{
  "entities": {
    "Income": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Income",
      "type": "object",
      "description": "Represents a daily income record.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the income record."
        },
        "date": {
          "type": "string",
          "description": "The date the income was received.",
          "format": "date-time"
        },
        "amount": {
          "type": "number",
          "description": "The amount of income received."
        },
        "category": {
          "type": "string",
          "description": "The category of the income (Nellore, Amalapuram, Pedhapuram, Local, Other)."
        }
      },
      "required": [
        "id",
        "date",
        "amount",
        "category"
      ]
    },
    "FuelExpense": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "FuelExpense",
      "type": "object",
      "description": "Represents a fuel expense record.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the fuel expense record."
        },
        "date": {
          "type": "string",
          "description": "The date the fuel expense was incurred.",
          "format": "date-time"
        },
        "amount": {
          "type": "number",
          "description": "The amount of the fuel expense."
        }
      },
      "required": [
        "id",
        "date",
        "amount"
      ]
    },
    "HomeExpense": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "HomeExpense",
      "type": "object",
      "description": "Represents a household expense record.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the home expense record."
        },
        "date": {
          "type": "string",
          "description": "The date the expense was incurred.",
          "format": "date-time"
        },
        "category": {
          "type": "string",
          "description": "The category of the expense (Food, Electricity, Rent, etc.)."
        },
        "amount": {
          "type": "number",
          "description": "The amount of the expense."
        },
        "notes": {
          "type": "string",
          "description": "Optional notes about the expense."
        },
        "emiId": {
          "type": "string",
          "description": "If the expense is an EMI payment, this links to the EMI record."
        }
      },
      "required": [
        "id",
        "date",
        "category",
        "amount"
      ]
    },
    "Emi": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Emi",
      "type": "object",
      "description": "Represents an EMI (Equated Monthly Installment) record.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the EMI record."
        },
        "emiName": {
          "type": "string",
          "description": "The name of the EMI (e.g., Scooty Finance, Van Finance)."
        },
        "vehicleType": {
          "type": "string",
          "description": "The type of vehicle the EMI is for."
        },
        "monthlyEmiAmount": {
          "type": "number",
          "description": "The amount of the monthly EMI payment."
        },
        "totalMonths": {
          "type": "number",
          "description": "The total number of months for the EMI."
        },
        "startDate": {
          "type": "string",
          "description": "The start date of the EMI.",
          "format": "date-time"
        },
        "paidMonths": {
          "type": "array",
          "description": "An array of strings representing the months paid, in 'YYYY-MM' format.",
          "items": {
            "type": "string"
          }
        }
      },
      "required": [
        "id",
        "emiName",
        "vehicleType",
        "monthlyEmiAmount",
        "totalMonths",
        "startDate",
        "paidMonths"
      ]
    }
  },
  "auth": {
    "providers": []
  },
  "firestore": {
    "structure": [
      {
        "path": "/incomes/{incomeId}",
        "definition": {
          "entityName": "Income",
          "schema": {
            "$ref": "#/backend/entities/Income"
          },
          "description": "Stores all income records."
        }
      },
      {
        "path": "/fuel_expenses/{fuelExpenseId}",
        "definition": {
          "entityName": "FuelExpense",
          "schema": {
            "$ref": "#/backend/entities/FuelExpense"
          },
          "description": "Stores all fuel expense records."
        }
      },
      {
        "path": "/home_expenses/{homeExpenseId}",
        "definition": {
          "entityName": "HomeExpense",
          "schema": {
            "$ref": "#/backend/entities/HomeExpense"
          },
          "description": "Stores all home expense records."
        }
      },
      {
        "path": "/emis/{emiId}",
        "definition": {
          "entityName": "Emi",
          "schema": {
            "$ref": "#/backend/entities/Emi"
          },
          "description": "Stores all EMI records."
        }
      }
    ],
    "reasoning": "The data structure is simplified to use root-level collections for all data types (incomes, expenses, EMIs). This approach removes user-specific data segregation, allowing all users of the application to access and manage the same shared dataset without any authentication. This is ideal for a trusted, single-family scenario."
  }
}
